{"version":3,"sources":["features/beers/detail/BeerDetail.module.scss","features/beers/list/BeersList.module.scss","store/modalContext.tsx","store/Providers.tsx","shared/hooks/useEventListener.ts","components/field/CheckboxField.tsx","components/field/Field.tsx","services/beers/BeersRepositoryInMemory.ts","features/beers/beersContext.tsx","features/beers/filters/BeersFilters.tsx","models/beers/errors/BeersInvalidData.ts","services/beers/BeersRepositoryApi.ts","services/beers/useBeersRepository.ts","shared/hooks/useObserver.ts","assets/icons/spinner.svg","components/spinner/Spinner.tsx","assets/barrel.svg","components/emoji/AbvEmoji.tsx","features/beers/list/BeersList.tsx","components/button/Button.tsx","features/beers/detail/BeerDetail.tsx","features/beers/BeersData.tsx","features/beers/BeersCatalog.tsx","features/app/App.tsx","reportWebVitals.ts","index.tsx","components/field/CheckboxField.module.scss","components/field/Field.module.scss","features/app/App.module.scss","features/beers/filters/BeersFilters.module.scss","components/spinner/Spinner.module.scss","components/button/Button.module.scss"],"names":["module","exports","initialValue","openModal","closeModal","Modal","React","lazy","ModalContext","createContext","useModal","context","useContext","Error","ModalProvider","children","activeElement","useRef","useState","content","setContent","useCallback","newContent","current","document","body","classList","add","remove","undefined","focus","Provider","value","fallback","containerId","queryClientDefaultOptions","queries","refetchOnWindowFocus","Providers","options","queryClient","QueryClient","defaultOptions","merge","QueryClientProvider","client","useEventListener","targetProp","eventName","handler","target","setTarget","useEffect","addEventListener","eventListener","event","removeEventListener","CheckboxField","label","name","checkedProp","checked","className","onChange","props","internalValue","setInternalValue","classes","wrapper","id","type","clsx","input","htmlFor","Field","valueProp","pattern","debounceOnChange","debounce","handleChange","RegExp","test","BeerRepositoryInMemory","serialize","deserialize","storageKey","this","JSON","stringify","parse","valueInLocalStorage","window","localStorage","getItem","data","setItem","a","getLocalStorageItem","reverse","beer","filteredData","filter","item","newData","setLocalStorageItem","beerId","beersRepositoryInMemory","BeersRepositoryInMemory","filters","setFilters","favoriteIds","addFavorite","removeFavorite","BeersContext","useBeers","BeersProvider","setFavoriteIds","getAll","then","storedFavorites","map","length","newFavorites","BeersFilters","prevFilters","beerName","placeholder","includes","firstBrewed","split","join","showFavorites","BeersInvalidData","message","BEER_API_URL","getBrewedRange","year","parseInt","brewed_after","brewed_before","Number","month","afterBrewed","Date","beforeBrewed","setMonth","getMonth","getFullYear","BeerRepositoryApi","rest","serviceParams","beer_name","filteredParams","Object","entries","toString","queryParams","URLSearchParams","fetch","response","ok","json","defaultProps","useBeersRepository","BeersRepositoryApi","beerRepository","setBeerRepository","useObserver","callback","element","setElement","observer","IntersectionObserver","entry","isIntersecting","observe","unobserve","ref","_extends","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","d","SvgSpinner","_ref","svgRef","title","titleId","focusable","role","xmlns","viewBox","ForwardRef","Spinner","delay","visibleProp","visible","setVisible","timeoutId","setTimeout","clearTimeout","aria-busy","aria-label","aria-hidden","spinner","forwardRef","abvRanges","range","emoji","Infinity","AbvEmoji","abv","abvMatch","find","parseDate","dateString","toLocaleString","BeersList","onShowDetails","container","tabIndex","onClick","onKeyDown","figure","src","image_url","barrelSrc","alt","details","date","first_brewed","tagline","Button","button","BeerDetail","isFavoriteProp","isFavorite","setIsFavorite","description","actions","observerOptions","root","rootMargin","threshold","BeersData","beers","setBeers","beerRepositroy","useInfiniteQuery","pageParam","per_page","page","getNextPageParam","lastPage","pages","isLoading","isError","hasNextPage","fetchNextPage","loadMoreRef","handleBeerDetail","newBeers","flat","BeersCatalog","App","history","scrollRestoration","header","main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f37d1a6d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"BeerDetail_wrapper__3_OmN\",\"figure\":\"BeerDetail_figure__3prpT\",\"content\":\"BeerDetail_content__1G_yR\",\"details\":\"BeerDetail_details__2NoR0\",\"date\":\"BeerDetail_date__ldQjl\",\"name\":\"BeerDetail_name__U5oQE\",\"tagline\":\"BeerDetail_tagline__2J8ZG\",\"description\":\"BeerDetail_description__fR0z9\",\"actions\":\"BeerDetail_actions__3N9ea\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BeersList_container__2Fwje\",\"beer\":\"BeersList_beer__2MmIq\",\"figure\":\"BeersList_figure__1mk-B\",\"details\":\"BeersList_details__1Qetv\",\"date\":\"BeersList_date__3WuQy\",\"name\":\"BeersList_name__1uLCz\",\"tagline\":\"BeersList_tagline__JwZ6P\"};","import React, {\n  ReactNode,\n  Suspense,\n  useCallback,\n  useContext,\n  useRef,\n  useState,\n} from \"react\";\n\ntype ModalProviderProps = {\n  children: ReactNode;\n};\n\ntype ModalContextValue = {\n  openModal: Function;\n  closeModal: Function;\n};\n\nconst initialValue = {\n  openModal: () => {},\n  closeModal: () => {},\n};\n\nconst containerId = \"root-modal\";\nconst Modal = React.lazy(() => import(\"components/modal/Modal\"));\n\nconst ModalContext = React.createContext<ModalContextValue>(initialValue);\n\nfunction useModal() {\n  const context = useContext(ModalContext);\n\n  if (!context) {\n    throw new Error(\"useModal must be used within the ModalContext\");\n  }\n  return context;\n}\n\nfunction ModalProvider({ children }: ModalProviderProps) {\n  const activeElement = useRef<HTMLElement | null>(null);\n  const [content, setContent] = useState<JSX.Element | undefined>();\n\n  const openModal = useCallback((newContent: JSX.Element) => {\n    activeElement.current = document.activeElement as HTMLElement;\n    document.body.classList.add(\"preventScroll\");\n    setContent(newContent);\n  }, []);\n\n  const closeModal = useCallback(() => {\n    document.body.classList.remove(\"preventScroll\");\n    setContent(undefined);\n    activeElement.current?.focus();\n    activeElement.current = null;\n  }, []);\n\n  return (\n    <ModalContext.Provider value={{ openModal, closeModal }}>\n      <Suspense fallback={null}>\n        <Modal containerId={containerId} closeModal={closeModal}>\n          {content}\n        </Modal>\n      </Suspense>\n      {children}\n    </ModalContext.Provider>\n  );\n}\n\nexport { ModalProvider, useModal };\n","import { ReactNode } from \"react\";\nimport merge from \"lodash/merge\";\nimport { DefaultOptions, QueryClient, QueryClientProvider } from \"react-query\";\nimport { ModalProvider } from \"./modalContext\";\n\ntype ProvidersProps = {\n  children: ReactNode;\n  options?: {\n    queryClient: Partial<DefaultOptions>;\n  };\n};\n\nconst queryClientDefaultOptions = {\n  queries: {\n    refetchOnWindowFocus: false,\n  },\n};\n\nfunction Providers({ children, options }: ProvidersProps) {\n  const queryClient = new QueryClient({\n    defaultOptions: merge(queryClientDefaultOptions, options?.queryClient),\n  });\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ModalProvider>{children}</ModalProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default Providers;\n","import { useEffect, useState } from \"react\";\n\nfunction useEventListener(\n  targetProp: EventTarget,\n  eventName: string,\n  handler: Function\n) {\n  const [target, setTarget] = useState(targetProp);\n\n  useEffect(() => {\n    if (targetProp && targetProp !== target) {\n      setTarget(targetProp);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [targetProp]);\n\n  useEffect(() => {\n    if (!(target && target.addEventListener)) {\n      return;\n    }\n    const eventListener = (event: Event) => {\n      handler(event);\n    };\n\n    target.addEventListener(eventName, eventListener);\n\n    return () => {\n      target.removeEventListener(eventName, eventListener);\n    };\n  }, [target, handler, eventName]);\n}\n\nexport default useEventListener;\n","import { ChangeEvent, InputHTMLAttributes, useEffect, useState } from \"react\";\nimport clsx from \"clsx\";\nimport classes from \"./CheckboxField.module.scss\";\n\ntype CheckboxFieldProps = {\n  label: string;\n  name: string;\n  onChange?: (value: boolean) => void;\n} & Omit<InputHTMLAttributes<HTMLInputElement>, \"name\" | \"onChange\" | \"type\">;\n\nfunction CheckboxField({\n  label,\n  name,\n  checked: checkedProp,\n  className,\n  onChange,\n  ...props\n}: CheckboxFieldProps) {\n  const [internalValue, setInternalValue] = useState(checkedProp || false);\n\n  useEffect(() => {\n    if (checkedProp !== internalValue) {\n      setInternalValue(checkedProp || false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [checkedProp]);\n\n  function handleChange(event: ChangeEvent<HTMLInputElement>) {\n    const { checked } = event.target;\n    setInternalValue(checked);\n    onChange?.(checked);\n  }\n\n  return (\n    <div className={classes.wrapper}>\n      <input\n        id={name}\n        name={name}\n        type=\"checkbox\"\n        checked={onChange ? internalValue : undefined}\n        onChange={onChange ? handleChange : undefined}\n        className={clsx(classes.input, className)}\n        {...props}\n      />\n      <label htmlFor={name} className={classes.label}>\n        {label}\n      </label>\n    </div>\n  );\n}\n\nexport default CheckboxField;\n","import {\n  ChangeEvent,\n  InputHTMLAttributes,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport clsx from \"clsx\";\nimport { debounce } from \"lodash\";\nimport classes from \"./Field.module.scss\";\n\ntype FieldProps = {\n  label: string;\n  name: string;\n  pattern?: RegExp;\n  onChange?: (value: string) => void;\n} & Omit<\n  InputHTMLAttributes<HTMLInputElement>,\n  \"pattern\" | \"name\" | \"onChange\"\n>;\n\nfunction Field({\n  label,\n  name,\n  value: valueProp,\n  pattern,\n  className,\n  onChange,\n  ...props\n}: FieldProps) {\n  const [internalValue, setInternalValue] = useState(valueProp || \"\");\n\n  useEffect(() => {\n    if (valueProp !== internalValue) {\n      setInternalValue(valueProp || \"\");\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [valueProp]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounceOnChange = useCallback(\n    debounce((value) => onChange?.(value), 300),\n    []\n  );\n\n  const handleChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      const { value } = event.target;\n      if (pattern) {\n        const regex = new RegExp(pattern);\n        if (!regex.test(value)) {\n          return;\n        }\n      }\n      setInternalValue(value);\n      debounceOnChange(value);\n    },\n    [debounceOnChange, pattern]\n  );\n\n  return (\n    <div className={classes.wrapper}>\n      <label htmlFor={name} className={classes.label}>\n        {label}\n      </label>\n      <input\n        id={name}\n        name={name}\n        value={onChange || pattern ? internalValue : undefined}\n        onChange={onChange || pattern ? handleChange : undefined}\n        className={clsx(classes.input, className)}\n        {...props}\n      />\n    </div>\n  );\n}\n\nexport default Field;\n","import { Beer } from \"models/beers/Beer\";\nimport { BeersRepository, GetAllParams } from \"models/beers/BeersRepository\";\n\nclass BeerRepositoryInMemory implements BeersRepository {\n  serialize: (value: any) => string;\n  deserialize: (text: string) => any;\n  storageKey: string;\n\n  constructor() {\n    this.storageKey = \"favoriteBeers\";\n    this.serialize = JSON.stringify;\n    this.deserialize = JSON.parse;\n  }\n\n  private getLocalStorageItem() {\n    const valueInLocalStorage = window.localStorage.getItem(this.storageKey);\n    let data: Beer[] = [];\n    if (valueInLocalStorage) {\n      data = this.deserialize(valueInLocalStorage);\n    }\n    return data;\n  }\n\n  private setLocalStorageItem(data: Beer[]) {\n    window.localStorage.setItem(this.storageKey, this.serialize(data));\n  }\n\n  async getAll(params: GetAllParams = {}) {\n    const data = this.getLocalStorageItem();\n\n    return data.reverse() || [];\n  }\n\n  async add(beer: Beer) {\n    const data = this.getLocalStorageItem();\n\n    const filteredData = data.filter((item) => item.id !== beer.id);\n\n    const newData = [...filteredData, beer];\n\n    this.setLocalStorageItem(newData);\n\n    return newData;\n  }\n\n  async remove(beerId: number) {\n    const data = this.getLocalStorageItem();\n\n    const filteredData = data.filter((item) => item.id !== beerId);\n\n    this.setLocalStorageItem(filteredData);\n\n    return filteredData;\n  }\n}\n\nexport default BeerRepositoryInMemory;\n","import { Beer } from \"models/beers/Beer\";\nimport {\n  createContext,\n  Dispatch,\n  ReactNode,\n  SetStateAction,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport BeersRepositoryInMemory from \"services/beers/BeersRepositoryInMemory\";\n\nconst beersRepositoryInMemory = new BeersRepositoryInMemory();\n\ntype BeersProviderProps = {\n  children: ReactNode;\n};\n\ntype Filters = {\n  beerName?: string;\n  firstBrewed?: string;\n  showFavorites?: boolean;\n};\n\ntype BeersContextValue = {\n  filters: Filters;\n  setFilters: Dispatch<SetStateAction<Filters>>;\n  favoriteIds: number[];\n  addFavorite: (beer: Beer) => void;\n  removeFavorite: (beerId: number) => void;\n};\n\nconst initialValue = {\n  filters: {},\n  setFilters: () => {},\n  favoriteIds: [],\n  addFavorite: () => {},\n  removeFavorite: () => {},\n};\n\nconst BeersContext = createContext<BeersContextValue>(initialValue);\n\nfunction useBeers() {\n  const context = useContext(BeersContext);\n\n  if (!context) {\n    throw new Error(\"useBeers must be used within the BeersContext\");\n  }\n  return context;\n}\n\nfunction BeersProvider({ children }: BeersProviderProps) {\n  const [filters, setFilters] = useState<Filters>(initialValue.filters);\n  const [favoriteIds, setFavoriteIds] = useState<number[]>(\n    initialValue.favoriteIds\n  );\n\n  useEffect(() => {\n    beersRepositoryInMemory.getAll().then((data) => {\n      const storedFavorites = data.map((beer) => beer.id);\n      if (storedFavorites.length) {\n        setFavoriteIds(storedFavorites);\n      }\n    });\n  }, []);\n\n  const addFavorite = useCallback((beer: Beer) => {\n    beersRepositoryInMemory\n      .add(beer)\n      .then((newFavorites) =>\n        setFavoriteIds(newFavorites.map((beer) => beer.id))\n      );\n  }, []);\n\n  const removeFavorite = useCallback((beerId: number) => {\n    beersRepositoryInMemory\n      .remove(beerId)\n      .then((newFavorites) =>\n        setFavoriteIds(newFavorites.map((beer) => beer.id))\n      );\n  }, []);\n\n  return (\n    <BeersContext.Provider\n      value={{\n        filters,\n        setFilters,\n        favoriteIds,\n        addFavorite,\n        removeFavorite,\n      }}\n    >\n      {children}\n    </BeersContext.Provider>\n  );\n}\n\nexport { BeersProvider, useBeers };\n","import CheckboxField from \"components/field/CheckboxField\";\nimport Field from \"components/field/Field\";\nimport { useBeers } from \"../beersContext\";\nimport classes from \"./BeersFilters.module.scss\";\n\nfunction BeersFilters() {\n  const { filters, setFilters } = useBeers();\n\n  return (\n    <form className={classes.wrapper}>\n      <Field\n        label=\"Name\"\n        name=\"beerName\"\n        onChange={(value: string) => {\n          setFilters((prevFilters) => ({\n            ...prevFilters,\n            beerName: value,\n          }));\n        }}\n        value={filters.beerName}\n      />\n      <Field\n        label=\"First brewed\"\n        name=\"firstBrewed\"\n        type=\"month\"\n        placeholder=\"YYYY-MM\"\n        pattern={/^(\\d{0,4}(-(0[1-9]{0,1}|1[0-2]{0,1})?)?)?$/}\n        onChange={(value: string) => {\n          if (!value || value.length === 4 || value.includes(\"-\")) {\n            setFilters((prevFilters) => ({\n              ...prevFilters,\n              firstBrewed: value.split(\"-\").reverse().join(\"-\"),\n            }));\n          }\n        }}\n        value={filters.firstBrewed?.split(\"-\").reverse().join(\"-\")}\n      />\n      <CheckboxField\n        label=\"Show only favorite beers\"\n        name=\"showFavorites\"\n        onChange={(value: boolean) => {\n          setFilters((prevFilters) => ({\n            ...prevFilters,\n            showFavorites: value,\n          }));\n        }}\n        checked={filters.showFavorites}\n      />\n    </form>\n  );\n}\n\nexport default BeersFilters;\n","class BeersInvalidData extends Error {\n  constructor() {\n    super();\n    this.name = \"BeersInvalidData\";\n    this.message = \"Invalid params\";\n  }\n}\n\nexport default BeersInvalidData;\n","import { Beer } from \"models/beers/Beer\";\nimport { BeersRepository, GetAllParams } from \"models/beers/BeersRepository\";\nimport BeersInvalidData from \"models/beers/errors/BeersInvalidData\";\n\nconst BEER_API_URL = \"https://api.punkapi.com/v2\";\n\nfunction getBrewedRange(firstBrewed?: string) {\n  if (!firstBrewed) {\n    return {};\n  }\n\n  if (!firstBrewed.includes(\"-\")) {\n    const year = parseInt(firstBrewed, 10);\n    return {\n      brewed_after: `12-${year - 1}`,\n      brewed_before: `01-${year + 1}`,\n    };\n  }\n\n  const [month, year] = firstBrewed.split(\"-\").map(Number);\n  const afterBrewed = new Date(year, month);\n  const beforeBrewed = new Date(year, month);\n  afterBrewed.setMonth(afterBrewed.getMonth() - 2);\n  return {\n    brewed_after: `${afterBrewed.getMonth() + 1}-${afterBrewed.getFullYear()}`,\n    brewed_before: `${\n      beforeBrewed.getMonth() + 1\n    }-${beforeBrewed.getFullYear()}`,\n  };\n}\n\nclass BeerRepositoryApi implements BeersRepository {\n  async getAll({ beerName, firstBrewed, ...rest }: GetAllParams = {}) {\n    const serviceParams = {\n      beer_name: beerName,\n      ...getBrewedRange(firstBrewed),\n      ...rest,\n    };\n    const filteredParams = Object.entries(serviceParams)\n      .filter(([_, value]) => value)\n      .map(([key, value]) => [key, value!.toString()]);\n    const queryParams = new URLSearchParams(filteredParams).toString();\n\n    const response = await fetch(`${BEER_API_URL}/beers?${queryParams}`);\n\n    if (!response.ok) {\n      throw new BeersInvalidData();\n    }\n\n    const data: Beer[] = await response.json();\n\n    return data;\n  }\n}\n\nexport default BeerRepositoryApi;\n","import { BeersRepository } from \"models/beers/BeersRepository\";\nimport { useEffect, useState } from \"react\";\nimport BeersRepositoryApi from \"./BeersRepositoryApi\";\nimport BeersRepositoryInMemory from \"./BeersRepositoryInMemory\";\n\ntype UseRepositoryProps = {\n  showFavorites?: boolean;\n};\n\nconst defaultProps = {\n  showFavorites: false,\n};\n\nfunction useBeersRepository({\n  showFavorites,\n}: UseRepositoryProps = defaultProps) {\n  const [beerRepository, setBeerRepository] = useState<BeersRepository>(\n    new BeersRepositoryApi()\n  );\n\n  useEffect(() => {\n    if (showFavorites) {\n      return setBeerRepository(new BeersRepositoryInMemory());\n    }\n    return setBeerRepository(new BeersRepositoryApi());\n  }, [showFavorites]);\n\n  return beerRepository;\n}\n\nexport default useBeersRepository;\n","import { useEffect, useState } from \"react\";\n\nfunction useObserver(callback: Function, options: IntersectionObserverInit) {\n  const [element, setElement] = useState<Element | null>(null);\n\n  useEffect(() => {\n    if (!element) {\n      return;\n    }\n    const observer = new IntersectionObserver((entry) => {\n      if (entry[0].isIntersecting) {\n        callback();\n      }\n    }, options);\n    observer.observe(element);\n\n    return () => {\n      observer.unobserve(element);\n    };\n  }, [callback, element, options]);\n\n  return { ref: setElement };\n}\n\nexport default useObserver;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z\"\n});\n\nfunction SvgSpinner(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpinner);\nexport default __webpack_public_path__ + \"static/media/spinner.9444fa5b.svg\";\nexport { ForwardRef as ReactComponent };","import { ForwardedRef, forwardRef, useEffect, useState } from \"react\";\nimport { ReactComponent as IconSpinner } from \"assets/icons/spinner.svg\";\nimport classes from \"./Spinner.module.scss\";\n\ntype SpinnerProps = {\n  visible?: boolean;\n  delay?: number;\n};\n\nconst defaultDelay = 250;\n\nfunction Spinner(\n  { visible: visibleProp, delay }: SpinnerProps = { delay: defaultDelay },\n  ref: ForwardedRef<SVGSVGElement>\n) {\n  const [visible, setVisible] = useState(visibleProp);\n\n  useEffect(() => {\n    if (visible) {\n      return;\n    }\n    const timeoutId = setTimeout(() => {\n      setVisible(true);\n    }, 250);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [delay, visible]);\n\n  if (!visible) {\n    return null;\n  }\n\n  return (\n    <IconSpinner\n      ref={ref}\n      role=\"alert\"\n      aria-busy=\"true\"\n      aria-label=\"spinner\"\n      aria-hidden=\"false\"\n      className={classes.spinner}\n    />\n  );\n}\n\nexport default forwardRef(Spinner);\n","export default __webpack_public_path__ + \"static/media/barrel.0dcab2ca.svg\";","const abvRanges = [\n  {\n    range: [-1, 3],\n    emoji: \"ðŸ™‚\",\n    label: \"Alcohol by volume less than or equal to 3%\",\n  },\n  {\n    range: [3, 8],\n    emoji: \"ðŸ˜Š\",\n    label: \"Alcohol by volume less than or equal to 8% but greater than 3%\",\n  },\n  {\n    range: [8, 15],\n    emoji: \"ðŸ¥´\",\n    label: \"Alcohol by volume less than or equal to 15% but greater than 8%\",\n  },\n  {\n    range: [15, Infinity],\n    emoji: \"ðŸ¤¢\",\n    label: \"Alcohol by volume greater than 15%\",\n  },\n];\n\nfunction AbvEmoji({ abv = 0 }) {\n  const abvMatch =\n    abvRanges.find(({ range }) => abv > range[0] && abv <= range[1]) ||\n    abvRanges[0];\n\n  return (\n    <span role=\"img\" aria-label={abvMatch.label} title={abvMatch.label}>\n      {abvMatch.emoji}\n    </span>\n  );\n}\n\nexport default AbvEmoji;\n","import { Beer } from \"models/beers/Beer\";\nimport barrelSrc from \"assets/barrel.svg\";\nimport AbvEmoji from \"components/emoji/AbvEmoji\";\nimport classes from \"./BeersList.module.scss\";\n\ntype BeersListProps = {\n  data: Beer[];\n  onShowDetails: (beer: Beer) => void;\n};\n\nfunction parseDate(dateString: string) {\n  if (!dateString.includes(\"/\")) {\n    return dateString;\n  }\n  const [month, year] = dateString.split(\"/\").map(Number);\n  const date = new Date(year, month - 1);\n  return date.toLocaleString(\"en-GB\", { month: \"long\", year: \"numeric\" });\n}\n\nfunction BeersList({ data, onShowDetails }: BeersListProps) {\n  return (\n    <section className={classes.container}>\n      {data?.map((beer) => (\n        <article\n          key={beer.id}\n          className={classes.beer}\n          tabIndex={0}\n          onClick={() => onShowDetails(beer)}\n          onKeyDown={(event) => {\n            event.key === \"Enter\" && onShowDetails(beer);\n          }}\n        >\n          <figure className={classes.figure}>\n            <img src={beer.image_url || barrelSrc} alt={beer.name} />\n            <figcaption>\n              <AbvEmoji abv={beer.abv} />\n            </figcaption>\n          </figure>\n          <div className={classes.details}>\n            <div className={classes.date}>{parseDate(beer.first_brewed)}</div>\n            <h4 className={classes.name}>{beer.name}</h4>\n            <p className={classes.tagline}>{beer.tagline}</p>\n          </div>\n        </article>\n      ))}\n    </section>\n  );\n}\n\nexport default BeersList;\n","import clsx from \"clsx\";\nimport { ButtonHTMLAttributes, ReactNode } from \"react\";\nimport classes from \"./Button.module.scss\";\n\ntype ButtonProps = {\n  className?: string;\n  children: ReactNode;\n} & ButtonHTMLAttributes<HTMLButtonElement>;\n\nfunction Button({ className, children, ...props }: ButtonProps) {\n  return (\n    <button className={clsx(classes.button, className)} {...props}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import { Beer } from \"models/beers/Beer\";\nimport { useModal } from \"store/modalContext\";\nimport Button from \"components/button/Button\";\nimport AbvEmoji from \"components/emoji/AbvEmoji\";\nimport barrelSrc from \"assets/barrel.svg\";\nimport classes from \"./BeerDetail.module.scss\";\nimport { useState } from \"react\";\n\ntype BeerDetailProps = {\n  beer: Beer;\n  isFavorite: boolean;\n  addFavorite: (beer: Beer) => void;\n  removeFavorite: (beerId: number) => void;\n};\n\nfunction BeerDetail({\n  beer,\n  isFavorite: isFavoriteProp,\n  addFavorite,\n  removeFavorite,\n}: BeerDetailProps) {\n  const { closeModal } = useModal();\n  const [isFavorite, setIsFavorite] = useState(isFavoriteProp);\n\n  return (\n    <div className={classes.wrapper}>\n      <figure className={classes.figure}>\n        <img src={beer.image_url || barrelSrc} alt={beer.name} />\n        <figcaption>\n          <AbvEmoji abv={beer.abv} />\n        </figcaption>\n      </figure>\n      <div className={classes.content}>\n        <div className={classes.date}>{beer.first_brewed}</div>\n        <h4 className={classes.name}>{beer.name}</h4>\n        <div className={classes.details}>\n          <p className={classes.tagline}>{beer.tagline}</p>\n          <p className={classes.description}>{beer.description}</p>\n        </div>\n        <div className={classes.actions}>\n          {!isFavorite && (\n            <Button\n              onClick={() => {\n                addFavorite(beer);\n                setIsFavorite(true);\n              }}\n            >\n              Agregar\n            </Button>\n          )}\n          {isFavorite && (\n            <Button\n              onClick={() => {\n                removeFavorite(beer.id);\n                setIsFavorite(false);\n              }}\n            >\n              Eliminar\n            </Button>\n          )}\n          <Button onClick={() => closeModal()}>Cerrar</Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BeerDetail;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { useInfiniteQuery } from \"react-query\";\nimport { Beer } from \"models/beers/Beer\";\nimport useBeersRepository from \"services/beers/useBeersRepository\";\nimport useObserver from \"shared/hooks/useObserver\";\nimport { useModal } from \"store/modalContext\";\nimport Spinner from \"components/spinner/Spinner\";\nimport BeersList from \"./list/BeersList\";\nimport BeerDetail from \"./detail/BeerDetail\";\nimport { useBeers } from \"./beersContext\";\n\nconst observerOptions = { root: null, rootMargin: \"300px\", threshold: 0 };\nconst pageSize = 24;\n\nfunction BeersData() {\n  const [beers, setBeers] = useState<Beer[]>([]);\n  const {\n    favoriteIds,\n    addFavorite,\n    removeFavorite,\n    filters: { showFavorites, ...filters },\n  } = useBeers();\n  const beerRepositroy = useBeersRepository({ showFavorites });\n  const { openModal } = useModal();\n  const {\n    data,\n    isLoading,\n    isError,\n    hasNextPage,\n    fetchNextPage,\n  } = useInfiniteQuery(\n    [\"beers\", JSON.stringify(filters), favoriteIds.length, beerRepositroy],\n    ({ pageParam = { per_page: pageSize, page: 1 } }) => {\n      return beerRepositroy.getAll({ ...pageParam, ...filters });\n    },\n    {\n      getNextPageParam: (lastPage, pages) => {\n        const lastPageIsEmpty = lastPage.length === 0;\n        if (lastPageIsEmpty) {\n          return undefined;\n        }\n        return { per_page: pageSize, page: pages.length + 1 };\n      },\n    }\n  );\n  const { ref: loadMoreRef } = useObserver(fetchNextPage, observerOptions);\n\n  const handleBeerDetail = useCallback(\n    (beer: Beer) => {\n      openModal(\n        <BeerDetail\n          beer={beer}\n          isFavorite={favoriteIds.includes(beer.id)}\n          addFavorite={addFavorite}\n          removeFavorite={removeFavorite}\n        />\n      );\n    },\n    [addFavorite, favoriteIds, openModal, removeFavorite]\n  );\n\n  const lastPage = data?.pages[data.pages.length - 1];\n\n  useEffect(() => {\n    if (!isLoading) {\n      const newBeers = data?.pages ? data.pages.flat() : [];\n      setBeers(newBeers);\n    }\n  }, [data, isLoading]);\n\n  if (isLoading && !beers.length) {\n    return <Spinner />;\n  }\n\n  if (isError) {\n    return <p>Failed to get data</p>;\n  }\n\n  if (!beers.length) {\n    return <p>No data to display</p>;\n  }\n\n  return (\n    <>\n      <BeersList data={beers} onShowDetails={handleBeerDetail} />\n      {hasNextPage && lastPage?.length === pageSize && (\n        <Spinner ref={loadMoreRef} visible />\n      )}\n    </>\n  );\n}\n\nexport default BeersData;\n","import BeersFilters from \"./filters/BeersFilters\";\nimport BeersData from \"./BeersData\";\nimport { BeersProvider } from \"./beersContext\";\n\nfunction BeersCatalog() {\n  return (\n    <BeersProvider>\n      <BeersFilters />\n      <BeersData />\n    </BeersProvider>\n  );\n}\n\nexport default BeersCatalog;\n","import { useEffect } from \"react\";\nimport useEventListener from \"shared/hooks/useEventListener\";\nimport BeersCatalog from \"features/beers/BeersCatalog\";\nimport classes from \"./App.module.scss\";\n\nfunction App() {\n  useEffect(() => {\n    if (\"scrollRestoration\" in window.history) {\n      window.history.scrollRestoration = \"manual\";\n    }\n  }, []);\n\n  useEventListener(window, \"mousedown\", () => {\n    document.body.classList.add(\"mousedown\");\n  });\n\n  useEventListener(window, \"keydown\", () => {\n    document.body.classList.remove(\"mousedown\");\n  });\n\n  return (\n    <>\n      <header className={classes.header}>\n        <h1>Citibeer</h1>\n      </header>\n      <main className={classes.main}>\n        <BeersCatalog />\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Providers from \"store/Providers\";\nimport App from \"features/app/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./styles/global.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Providers>\n      <App />\n    </Providers>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CheckboxField_wrapper__aDI60\",\"label\":\"CheckboxField_label__367UV\",\"input\":\"CheckboxField_input__24-wU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Field_wrapper__3nZ82\",\"label\":\"Field_label__enDEX\",\"input\":\"Field_input__21rsF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__1ULvh\",\"main\":\"App_main__1n4oc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"BeersFilters_wrapper__4MuTx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__kptye\",\"spin\":\"Spinner_spin__gDMJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__Nfhxt\"};"],"sourceRoot":""}