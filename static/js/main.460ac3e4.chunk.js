(this.webpackJsonpcitibeer=this.webpackJsonpcitibeer||[]).push([[0],{14:function(e,t,n){e.exports={container:"BeersList_container__2Fwje",beer:"BeersList_beer__2MmIq",figure:"BeersList_figure__1mk-B",details:"BeersList_details__1Qetv",date:"BeersList_date__3WuQy",name:"BeersList_name__1uLCz",yeast:"BeersList_yeast__3RQz0",tagline:"BeersList_tagline__JwZ6P"}},153:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(48),c=n.n(i),s=n(65),o=n.n(s),l=n(155),u=n(66),d=n(4),b=n(0),j={openModal:function(){},closeModal:function(){}},f=a.a.lazy((function(){return n.e(3).then(n.bind(null,159))})),v=a.a.createContext(j);function h(){var e=Object(r.useContext)(v);if(!e)throw new Error("useModal must be used within the ModalContext");return e}function m(e){var t=e.children,n=Object(r.useRef)(null),a=Object(r.useState)(),i=Object(d.a)(a,2),c=i[0],s=i[1],o=Object(r.useCallback)((function(e){n.current=document.activeElement,document.body.classList.add("preventScroll"),s(e)}),[]),l=Object(r.useCallback)((function(){var e;document.body.classList.remove("preventScroll"),s(void 0),null===(e=n.current)||void 0===e||e.focus(),n.current=null}),[]);return Object(b.jsxs)(v.Provider,{value:{openModal:o,closeModal:l},children:[Object(b.jsx)(r.Suspense,{fallback:null,children:Object(b.jsx)(f,{containerId:"root-modal",closeModal:l,children:c})}),t]})}var p={queries:{refetchOnWindowFocus:!1}};var O=function(e){var t=e.children,n=e.options,r=new l.a({defaultOptions:o()(p,null===n||void 0===n?void 0:n.queryClient)});return Object(b.jsx)(u.a,{client:r,children:Object(b.jsx)(m,{children:t})})};var g=function(e,t,n){var a=Object(r.useState)(e),i=Object(d.a)(a,2),c=i[0],s=i[1];Object(r.useEffect)((function(){e&&e!==c&&s(e)}),[e]),Object(r.useEffect)((function(){if(c&&c.addEventListener){var e=function(e){n(e)};return c.addEventListener(t,e),function(){c.removeEventListener(t,e)}}}),[c,n,t])},w=n(5),_=n(8),x=n(15),y=n(38),N=n.n(y);var B=function(e){var t=e.label,n=e.name,a=e.checked,i=e.className,c=e.onChange,s=Object(_.a)(e,["label","name","checked","className","onChange"]),o=Object(r.useState)(a||!1),l=Object(d.a)(o,2),u=l[0],j=l[1];return Object(r.useEffect)((function(){a!==u&&j(a||!1)}),[a]),Object(b.jsxs)("div",{className:N.a.wrapper,children:[Object(b.jsx)("input",Object(w.a)({id:n,name:n,type:"checkbox",checked:c?u:void 0,onChange:c?function(e){var t=e.target.checked;j(t),window.requestAnimationFrame((function(){null===c||void 0===c||c(t)}))}:void 0,className:Object(x.a)(N.a.input,i)},s)),Object(b.jsx)("label",{htmlFor:n,className:N.a.label,children:t})]})},S=n(67),k=n.n(S),C=n(18),L=n.n(C);var M=function(e){var t=e.label,n=e.name,a=e.value,i=e.pattern,c=e.className,s=e.onChange,o=Object(_.a)(e,["label","name","value","pattern","className","onChange"]),l=Object(r.useState)(a||""),u=Object(d.a)(l,2),j=u[0],f=u[1];Object(r.useEffect)((function(){a!==j&&f(a||"")}),[a]);var v=Object(r.useCallback)(k()((function(e){return null===s||void 0===s?void 0:s(e)}),300),[]),h=Object(r.useCallback)((function(e){var t=e.target.value;if(i&&!new RegExp(i).test(t))return;f(t),v(t)}),[v,i]);return Object(b.jsxs)("div",{className:L.a.wrapper,children:[Object(b.jsx)("label",{htmlFor:n,className:L.a.label,children:t}),Object(b.jsx)("input",Object(w.a)({id:n,name:n,value:s||i?j:void 0,onChange:s||i?h:void 0,className:Object(x.a)(L.a.input,c)},o))]})};var I=function(e){var t=e.label,n=e.name,a=e.value,i=e.className,c=e.onChange,s=e.children,o=Object(r.useState)(a||""),l=Object(d.a)(o,2),u=l[0],j=l[1];return Object(r.useEffect)((function(){a!==u&&j(a||"")}),[a]),Object(b.jsxs)("div",{className:L.a.wrapper,children:[Object(b.jsx)("label",{htmlFor:n,className:L.a.label,children:t}),Object(b.jsx)("select",{id:n,name:n,className:Object(x.a)(L.a.input,i),value:c?u:void 0,onChange:c?function(e){var t=e.target.value;j(t),window.requestAnimationFrame((function(){null===c||void 0===c||c(t)}))}:void 0,children:s})]})},E=n(71),F=n(9),D=n.n(F),P=n(17),R=n(23),z=n(36);function A(e){if(!e.includes("-"))return{year:parseInt(e,10)};var t=e.split("-").map(Number),n=Object(d.a)(t,2);return{month:n[0],year:n[1]}}function G(e,t){if(!e.includes("/")&&!t.month)return e===t.year.toString();var n=e.split("/").map(Number),r=Object(d.a)(n,2),a=r[0],i=r[1];return t.month?i===t.year&&a===t.month:i===t.year}function U(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Y=function(){function e(){Object(R.a)(this,e),this.serialize=JSON.stringify,this.deserialize=JSON.parse,this.storageKey="savedBeers"}return Object(z.a)(e,[{key:"getLocalStorageItem",value:function(){var e=window.localStorage.getItem(this.storageKey),t=[];return e&&(t=this.deserialize(e)),t}},{key:"setLocalStorageItem",value:function(e){window.localStorage.setItem(this.storageKey,this.serialize(e))}},{key:"getAll",value:function(){var e=Object(P.a)(D.a.mark((function e(){var t,n,r,a,i,c,s,o=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.beerName,r=t.firstBrewed,a=t.page,i=t.per_page,(c=this.getLocalStorageItem())&&c.length){e.next=4;break}return e.abrupt("return",[]);case 4:return n&&(c=c.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),r&&(c=c.filter((function(e){return G(e.first_brewed,A(r))}))),a&&i&&(s=(a-1)*i,c=c.slice(s,s+i)),e.abrupt("return",c.sort(U)||[]);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var n,r,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getLocalStorageItem(),r=n.filter((function(e){return e.id!==t.id})),a=[].concat(Object(E.a)(r),[t]),this.setLocalStorageItem(a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getLocalStorageItem(),r=n.filter((function(e){return e.id!==t})),this.setLocalStorageItem(r),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),J=n(68),q=n(72),T=n(73),K=function(e){Object(J.a)(n,e);var t=Object(q.a)(n);function n(){var e;return Object(R.a)(this,n),(e=t.call(this)).name="BeersInvalidData",e.message="Invalid params",e}return n}(Object(T.a)(Error)),Q="https://api.punkapi.com/v2";function X(e){if(!e)return{};if(!e.includes("-")){var t=parseInt(e,10);return{brewed_after:"12-".concat(t-1),brewed_before:"01-".concat(t+1)}}var n=e.split("-").map(Number),r=Object(d.a)(n,2),a=r[0],i=r[1],c=new Date(i,a),s=new Date(i,a);return c.setMonth(c.getMonth()-2),{brewed_after:"".concat(c.getMonth()+1,"-").concat(c.getFullYear()),brewed_before:"".concat(s.getMonth()+1,"-").concat(s.getFullYear())}}var Z=function(){function e(){Object(R.a)(this,e)}return Object(z.a)(e,[{key:"getAll",value:function(){var e=Object(P.a)(D.a.mark((function e(){var t,n,r,a,i,c,s,o,l,u=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.beerName,r=t.firstBrewed,a=Object(_.a)(t,["beerName","firstBrewed"]),i=Object(w.a)(Object(w.a)({beer_name:n},X(r)),a),c=Object.entries(i).filter((function(e){var t=Object(d.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(d.a)(e,2);return[t[0],t[1].toString()]})),s=new URLSearchParams(c).toString(),e.next=6,fetch("".concat(Q,"/beers?").concat(s));case 6:if((o=e.sent).ok){e.next=9;break}throw new K;case 9:return e.next=11,o.json();case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H={showSaved:!1};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=e.showSaved,n=Object(r.useState)(new Z),a=Object(d.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){return c(t?new Y:new Z)}),[t]),i}var W=n.p+"static/media/barrel.0dcab2ca.svg",$={showSaved:!1};function ee(e){var t,n=e.first_brewed,r=e.image_url,a=e.food_pairing,i=e.ingredients,c=Object(_.a)(e,["first_brewed","image_url","food_pairing","ingredients"]),s=(null===(t=i.yeast)||void 0===t?void 0:t.includes("-"))?i.yeast.split("-")[1].trim():i.yeast;return Object(w.a)(Object(w.a)(Object(w.a)({},c),function(e){if(!e.includes("/"))return{firstBrewedLabel:e,firstBrewedYear:parseInt(e,10)};var t=e.split("/").map(Number),n=Object(d.a)(t,2),r=n[0],a=n[1];return{firstBrewedLabel:new Date(a,r-1).toLocaleString("en-GB",{month:"long",year:"numeric"}),firstBrewedMonth:r,firstBrewedYear:a}}(n)),{},{imageUrl:r||W,foodPairing:a.map((function(e){return e.replace(/\./g," ")})),malt:i.malt.map((function(e){return e.name})),hops:i.hops.map((function(e){return e.name})),yeast:null===s||void 0===s?void 0:s.replace(/[^\w\s]/gi,"")})}var te=new Y,ne={options:{viewMode:"list"},setOptions:function(){},savedIds:[],saveBeer:function(){},removeBeer:function(){}},re=Object(r.createContext)(ne);function ae(){var e=Object(r.useContext)(re);if(!e)throw new Error("useBeers must be used within the BeersContext");return e}function ie(e){var t=e.children,n=Object(r.useState)(ne.options),a=Object(d.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(ne.savedIds),o=Object(d.a)(s,2),l=o[0],u=o[1];Object(r.useEffect)((function(){te.getAll().then((function(e){var t=e.map((function(e){return e.id}));t.length&&u(t)}))}),[]);var j=Object(r.useCallback)((function(e){te.add(function(e){var t=e.imageUrl,n=(e.firstBrewedLabel,e.firstBrewedMonth),r=e.firstBrewedYear,a=e.foodPairing,i=e.malt,c=e.hops,s=e.yeast,o=Object(_.a)(e,["imageUrl","firstBrewedLabel","firstBrewedMonth","firstBrewedYear","foodPairing","malt","hops","yeast"]);return Object(w.a)(Object(w.a)({},o),{},{image_url:t,first_brewed:[n,r].filter(Boolean).join("/"),food_pairing:a,ingredients:{malt:i.map((function(e){return{name:e}})),hops:c.map((function(e){return{name:e}})),yeast:s}})}(e)).then((function(e){return u(e.map((function(e){return e.id})))}))}),[]),f=Object(r.useCallback)((function(e){te.remove(e).then((function(e){return u(e.map((function(e){return e.id})))}))}),[]);return Object(b.jsx)(re.Provider,{value:{options:i,setOptions:c,savedIds:l,saveBeer:j,removeBeer:f},children:t})}var ce=n(39),se=n.n(ce);var oe=function(){var e,t=ae(),n=t.options,r=t.setOptions;return Object(b.jsxs)("form",{className:se.a.wrapper,children:[Object(b.jsxs)("div",{className:se.a.row,children:[Object(b.jsx)(M,{label:"Name",name:"beerName",onChange:function(e){r((function(t){return Object(w.a)(Object(w.a)({},t),{},{beerName:e})}))},value:n.beerName}),Object(b.jsx)(M,{label:"First brewed",name:"firstBrewed",type:"month",placeholder:"YYYY-MM",pattern:/^(\d{0,4}(-(0[1-9]{0,1}|1[0-2]{0,1})?)?)?$/,onChange:function(e){e&&4!==e.length&&!e.includes("-")||r((function(t){return Object(w.a)(Object(w.a)({},t),{},{firstBrewed:e.split("-").reverse().join("-")})}))},value:null===(e=n.firstBrewed)||void 0===e?void 0:e.split("-").reverse().join("-")})]}),Object(b.jsxs)("div",{className:se.a.rowReverse,children:[Object(b.jsx)(B,{label:"Show only saved beers",name:"showSaved",onChange:function(e){r((function(t){return Object(w.a)(Object(w.a)({},t),{},{showSaved:e})}))},checked:n.showSaved}),Object(b.jsxs)(I,{label:"View",name:"viewMode",onChange:function(e){r((function(t){return Object(w.a)(Object(w.a)({},t),{},{viewMode:"grid"===e?"grid":"list"})}))},value:n.viewMode,children:[Object(b.jsx)("option",{value:"list",children:"List"}),Object(b.jsx)("option",{value:"grid",children:"Grid"})]})]})]})},le=n(156);var ue=function(e,t){var n=Object(r.useState)(null),a=Object(d.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){if(i){var n=new IntersectionObserver((function(t){t[0].isIntersecting&&e()}),t);return n.observe(i),function(){n.unobserve(i)}}}),[e,i,t]),{ref:c}};function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var je=r.createElement("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"});function fe(e,t){var n=e.title,a=e.titleId,i=be(e,["title","titleId"]);return r.createElement("svg",de({"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,je)}var ve=r.forwardRef(fe),he=(n.p,n(69)),me=n.n(he);function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{delay:250},t=e.visible,n=e.delay,a=arguments.length>1?arguments[1]:void 0,i=Object(r.useState)(t),c=Object(d.a)(i,2),s=c[0],o=c[1];return Object(r.useEffect)((function(){if(!s){var e=setTimeout((function(){o(!0)}),250);return function(){clearTimeout(e)}}}),[n,s]),s?Object(b.jsx)(ve,{ref:a,role:"alert","aria-busy":"true","aria-label":"spinner","aria-hidden":"false",className:me.a.spinner}):null}var Oe=Object(r.forwardRef)(pe),ge=n(70),we=n.n(ge);var _e=function(e){var t=e.className,n=e.children,r=Object(_.a)(e,["className","children"]);return Object(b.jsx)("button",Object(w.a)(Object(w.a)({className:Object(x.a)(we.a.button,t)},r),{},{children:n}))},xe=[{range:[-1,3],emoji:"\ud83d\ude42",label:"Alcohol by volume less than or equal to 3%"},{range:[3,8],emoji:"\ud83d\ude0a",label:"Alcohol by volume less than or equal to 8% but greater than 3%"},{range:[8,15],emoji:"\ud83e\udd74",label:"Alcohol by volume less than or equal to 15% but greater than 8%"},{range:[15,1/0],emoji:"\ud83e\udd22",label:"Alcohol by volume greater than 15%"}];var ye=function(e){var t=e.abv,n=void 0===t?0:t,r=xe.find((function(e){var t=e.range;return n>t[0]&&n<=t[1]}))||xe[0];return Object(b.jsx)("span",{role:"img","aria-label":r.label,title:r.label,children:r.emoji})},Ne=n(7),Be=n.n(Ne);var Se=function(e){var t=e.beer,n=e.isSaved,a=e.saveBeer,i=e.removeBeer,c=h().closeModal,s=Object(r.useState)(n),o=Object(d.a)(s,2),l=o[0],u=o[1];return Object(b.jsxs)("div",{className:Be.a.wrapper,children:[Object(b.jsxs)("figure",{className:Be.a.figure,children:[Object(b.jsx)("img",{src:t.imageUrl,alt:t.name}),Object(b.jsxs)("figcaption",{children:[Object(b.jsx)(ye,{abv:t.abv}),l?Object(b.jsx)("span",{role:"img","aria-label":"saved",children:"\u2b50\ufe0f"}):null]})]}),Object(b.jsxs)("div",{className:Be.a.content,children:[Object(b.jsx)("div",{className:Be.a.date,children:t.firstBrewedLabel}),Object(b.jsx)("h4",{className:Be.a.name,children:t.name}),Object(b.jsx)("h6",{className:Be.a.yeast,children:t.yeast}),Object(b.jsxs)("div",{className:Be.a.details,children:[Object(b.jsx)("p",{className:Be.a.tagline,children:t.tagline}),Object(b.jsx)("p",{className:Be.a.description,children:t.description}),Object(b.jsxs)("div",{"data-testid":"malt",className:Be.a.ingredients,children:[Object(b.jsx)("strong",{children:"Malt:"})," ",t.malt.join(" \u2022 ")]}),Object(b.jsxs)("div",{"data-testid":"hops",className:Be.a.ingredients,children:[Object(b.jsx)("strong",{children:"Hops:"})," ",t.hops.join(" \u2022 ")]}),Object(b.jsxs)("div",{"data-testid":"food",className:Be.a.ingredients,children:[Object(b.jsx)("strong",{children:"Food pairing:"})," ",t.foodPairing.join(" \u2022 ")]})]}),Object(b.jsxs)("div",{className:Be.a.actions,children:[!l&&Object(b.jsx)(_e,{onClick:function(){a(t),u(!0)},children:"Save"}),l&&Object(b.jsx)(_e,{onClick:function(){i(t.id),u(!1)},children:"Remove"}),Object(b.jsx)(_e,{onClick:function(){return c()},children:"Close"})]})]})]})},ke=n(14),Ce=n.n(ke);var Le=function(e){var t=e.data,n=e.onShowDetails,r=ae().savedIds;return Object(b.jsx)("section",{className:Ce.a.container,children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsxs)("article",{"data-testid":"beer-".concat(e.id),className:Ce.a.beer,tabIndex:0,onClick:function(){return n(e)},onKeyDown:function(t){"Enter"===t.key&&n(e)},children:[Object(b.jsxs)("figure",{className:Ce.a.figure,children:[Object(b.jsx)("img",{src:e.imageUrl,alt:e.name}),Object(b.jsxs)("figcaption",{children:[Object(b.jsx)(ye,{abv:e.abv}),r.includes(e.id)?Object(b.jsx)("span",{role:"img","aria-label":"saved",children:"\u2b50\ufe0f"}):null]})]}),Object(b.jsxs)("div",{className:Ce.a.details,children:[Object(b.jsx)("div",{className:Ce.a.date,children:e.firstBrewedLabel}),Object(b.jsx)("h4",{className:Ce.a.name,children:e.name}),Object(b.jsx)("h6",{className:Ce.a.yeast,children:e.yeast}),Object(b.jsx)("p",{className:Ce.a.tagline,children:e.tagline})]})]},e.id)}))})},Me=n(20),Ie=n.n(Me);var Ee=function(e){var t=e.data,n=e.onShowDetails,r=ae().savedIds;return Object(b.jsx)("section",{className:Ie.a.container,children:null===t||void 0===t?void 0:t.map((function(e){return Object(b.jsxs)("article",{"data-testid":"beer-".concat(e.id),className:Ie.a.beer,tabIndex:0,onClick:function(){return n(e)},onKeyDown:function(t){"Enter"===t.key&&n(e)},children:[Object(b.jsxs)("figure",{className:Ie.a.figure,children:[Object(b.jsx)("img",{src:e.imageUrl,alt:e.name}),Object(b.jsxs)("figcaption",{children:[Object(b.jsx)(ye,{abv:e.abv}),r.includes(e.id)?Object(b.jsx)("span",{role:"img","aria-label":"saved",children:"\u2b50\ufe0f"}):null]})]}),Object(b.jsxs)("div",{className:Ie.a.details,children:[Object(b.jsx)("h4",{className:Ie.a.name,children:e.name}),Object(b.jsx)("h6",{className:Ie.a.yeast,children:e.yeast})]})]},e.id)}))})},Fe=n(46),De=n.n(Fe),Pe={root:null,rootMargin:"300px",threshold:0};var Re=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=ae(),c=i.savedIds,s=i.saveBeer,o=i.removeBeer,l=i.options,u=l.showSaved,j=l.viewMode,f=Object(_.a)(l,["showSaved","viewMode"]),v=function(){var e=V({showSaved:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$).showSaved});return{getAll:Object(r.useCallback)((function(t){function n(){return(n=Object(P.a)(D.a.mark((function n(){var r;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getAll(t);case 2:return r=n.sent,n.abrupt("return",r.map(ee));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}()}),[e]),beerRepositroy:e}}({showSaved:u}),m=v.getAll,p=v.beerRepositroy,O=h().openModal,g=Object(le.a)(["beers",JSON.stringify(f),u?c.length:0,p],(function(e){var t=e.pageParam,n=void 0===t?{per_page:24,page:1}:t;return m(Object(w.a)(Object(w.a)({},n),f))}),{getNextPageParam:function(e,t){if(!(0===e.length))return{per_page:24,page:t.length+1}}}),x=g.data,y=g.isLoading,N=g.isError,B=g.hasNextPage,S=g.fetchNextPage,k=ue(S,Pe).ref,C=Object(r.useCallback)((function(e){O(Object(b.jsx)(Se,{beer:e,isSaved:c.includes(e.id),saveBeer:s,removeBeer:o}))}),[s,c,O,o]),L=null===x||void 0===x?void 0:x.pages[x.pages.length-1];if(Object(r.useEffect)((function(){if(!y){var e=(null===x||void 0===x?void 0:x.pages)?x.pages.flat():[];a(e)}}),[x,y]),y&&!n.length)return Object(b.jsx)(Oe,{});if(N)return Object(b.jsx)("div",{className:De.a.errorMessage,children:"Failed to get data"});if(!n.length)return Object(b.jsx)("div",{className:De.a.errorMessage,children:"No data to display"});var M="list"===j?Le:Ee;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(M,{data:n,onShowDetails:C}),B&&24===(null===L||void 0===L?void 0:L.length)&&Object(b.jsx)(Oe,{ref:k,visible:!0})]})};var ze=function(){return Object(b.jsxs)(ie,{children:[Object(b.jsx)(oe,{}),Object(b.jsx)(Re,{})]})},Ae=n(47),Ge=n.n(Ae);var Ue=function(){return Object(r.useEffect)((function(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}),[]),g(window,"mousedown",(function(){document.body.classList.add("mousedown")})),g(window,"keydown",(function(){document.body.classList.remove("mousedown")})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{className:Ge.a.header,children:Object(b.jsx)("h1",{children:"Citibeer"})}),Object(b.jsx)("main",{className:Ge.a.main,children:Object(b.jsx)(ze,{})})]})},Ye=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,158)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};n(153);c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(O,{children:Object(b.jsx)(Ue,{})})}),document.getElementById("root")),Ye()},18:function(e,t,n){e.exports={wrapper:"Field_wrapper__3nZ82",label:"Field_label__enDEX",input:"Field_input__21rsF"}},20:function(e,t,n){e.exports={container:"BeersGrid_container__3IXTh",beer:"BeersGrid_beer__GtNmV",figure:"BeersGrid_figure__3wt55",details:"BeersGrid_details__1HSIZ",name:"BeersGrid_name__17y5Y",yeast:"BeersGrid_yeast__X5Ghy"}},38:function(e,t,n){e.exports={wrapper:"CheckboxField_wrapper__aDI60",label:"CheckboxField_label__367UV",input:"CheckboxField_input__24-wU"}},39:function(e,t,n){e.exports={wrapper:"BeersFilters_wrapper__4MuTx",row:"BeersFilters_row__hS2nx",rowReverse:"BeersFilters_rowReverse__3zrr-"}},46:function(e,t,n){e.exports={errorMessage:"BeersData_errorMessage__LJ1Np"}},47:function(e,t,n){e.exports={header:"App_header__1ULvh",main:"App_main__1n4oc"}},69:function(e,t,n){e.exports={spinner:"Spinner_spinner__kptye",spin:"Spinner_spin__gDMJH"}},7:function(e,t,n){e.exports={wrapper:"BeerDetail_wrapper__3_OmN",figure:"BeerDetail_figure__3prpT",content:"BeerDetail_content__1G_yR",details:"BeerDetail_details__2NoR0",date:"BeerDetail_date__ldQjl",name:"BeerDetail_name__U5oQE",yeast:"BeerDetail_yeast__1k44U",tagline:"BeerDetail_tagline__2J8ZG",description:"BeerDetail_description__fR0z9",ingredients:"BeerDetail_ingredients__3JLpX",actions:"BeerDetail_actions__3N9ea"}},70:function(e,t,n){e.exports={button:"Button_button__Nfhxt"}}},[[154,1,2]]]);
//# sourceMappingURL=main.460ac3e4.chunk.js.map